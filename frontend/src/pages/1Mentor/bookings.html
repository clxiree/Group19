<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>SMOOTutor Bookings</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">

  <!-- Vue CDN -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

  <!-- Axios CDN -->
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

 <!-- Firebase JS SDK -->
 <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
 <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore-compat.js"></script>
 <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-auth-compat.js"></script>
 <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-storage-compat.js"></script>
  <!-- =======================================================
  * Template Name: Mentor
  * Template URL: https://bootstrapmade.com/mentor-free-education-bootstrap-theme/
  * Updated: Aug 07 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
  
  <script>
    document.addEventListener("DOMContentLoaded", function () {
    // Ensure Firebase is initialized correctly
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    var firebaseConfig = {
      apiKey: "AIzaSyDpmHo8Y79lMhABi1WuRaJ25ulV4JMdRGY",
      authDomain: "smootutor-ed94a.firebaseapp.com",
      databaseURL: "https://smootutor-ed94a-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "smootutor-ed94a",
      storageBucket: "smootutor-ed94a.appspot.com",
      messagingSenderId: "289686522861",
      appId: "1:289686522861:web:5811385ced42106d78b5e4",
      measurementId: "G-46QED8ZFKJ"
    };
    firebase.initializeApp(firebaseConfig);

    const db = firebase.firestore();
    const auth = firebase.auth();
    
    let currentUser = null;

    // Authenticate anonymously and fetch bookings
    auth.signInAnonymously().then(() => {
        console.log("User authenticated successfully.");

        // Fetch bookings once the user is authenticated
        fetchBookings();
    }).catch(error => {
        console.error("Authentication error:", error);
    });

// function fetchBookings() {
//   db.collection("Bookings").get().then(snapshot => {
//     const bookingList = document.getElementById("booking-list");
//     bookingList.innerHTML = ''; // Clear previous content

//     var str = '<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4">';

//     snapshot.forEach(doc => {
//       const bookingData = doc.data();
//       console.log(bookingData.tutorStars);

//       str += `
//             <div class="col-lg-4 col-md-6 d-flex align-items-stretch" data-aos="zoom-in" data-aos-delay="100">
//         <div class="course-item">
//           <img src="../1Mentor/assets/img/bookings/${bookingData.courseCode}.jpg" class="card-img-top" alt="Course Image">
//           <div class="course-content">
//             <div class="d-flex justify-content-between align-items-center mb-3">
//               <p class="category">${bookingData.courseCode}</p>
//               <p class="price">$${bookingData.fee}</p>
//             </div>
//             <h3>${bookingData.courseName}</h3>
//             <p class="description"><b>Status:</b> ${bookingData.status}</p>
//             <p class="description"><b>Date of Booking:</b> ${bookingData.dateOfLesson}</p>
//             <p class="description"><b>Mode:</b> ${bookingData.mode}</p>
//             <div class="trainer d-flex justify-content-between align-items-center">
//               <div class="trainer-profile d-flex align-items-center">
//                 <img src="../1Mentor/assets/img/team/${bookingData.tutorImg}" class="img-fluid" alt="">
//                 <a href="" class="trainer-link">${bookingData.tutorName}</a>
//                 <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp${bookingData.tutorStars}</div>
                 
//               </div>
//               <div class="trainer-rank d-flex align-items-center">
//                     <i class="bi bi-person user-icon"></i>&nbsp;${bookingData.tutorReview}
//                     &nbsp;&nbsp;
                    
//                   </div>
//             </div>
//           </div>
//         </div>
//       </div>
//               `

//     });

//     str += '</div>';
//     bookingList.innerHTML = str;
//   }).catch(error => {
//     console.error("Error fetching bookings:", error);
//   });}

// Add event listener for the filter select
document.getElementById('statusFilter').addEventListener('change', function(e) {
    const selectedStatus = e.target.value;
    displayFilteredBookings(selectedStatus);
});

// function displayFilteredBookings(status) {
    
//     // Filter bookings based on status
//     const filteredBookings = status ? allBookings.filter(booking => booking.status === status) : allBookings;
    
//     // Get the booking list container
//     const bookingList = document.getElementById("booking-list");
//     bookingList.innerHTML = ''; // Clear previous content

//     // Create row container
//     const row = document.createElement('div');
//     row.classList.add('row', 'row-cols-1', 'row-cols-sm-2', 'row-cols-md-3', 'g-4');

//     // Loop through filtered bookings
//     filteredBookings.forEach(bookingData => {
//         // Create card container (col)
//         const col = document.createElement('div');
//         col.classList.add('col-lg-4', 'col-md-6', 'd-flex', 'align-items-stretch');
//         col.setAttribute('data-aos', 'zoom-in');
//         col.setAttribute('data-aos-delay', '100');

//         // Create course-item div
//         const courseItem = document.createElement('div');
//         courseItem.classList.add('course-item');

//         // Create and set the image element
//         const img = document.createElement('img');
//         img.src = `../1Mentor/assets/img/bookings/${bookingData.courseCode}.jpg`;
//         img.classList.add('card-img-top');
//         img.alt = 'Course Image';

//         // Create course-content div
//         const courseContent = document.createElement('div');
//         courseContent.classList.add('course-content');

//         // Create div for category and price
//         const categoryPriceDiv = document.createElement('div');
//         categoryPriceDiv.classList.add('d-flex', 'justify-content-between', 'align-items-center', 'mb-3');

//         console.log(bookingData);

//         const category = document.createElement('p');
//         category.classList.add('category');
//         category.textContent = bookingData.courseCode;

//         const price = document.createElement('p');
//         price.classList.add('price');
//         price.textContent = `$${bookingData.fee}`;

//         categoryPriceDiv.appendChild(category);
//         categoryPriceDiv.appendChild(price);

//         // Create the title and details
        

//         const titleContainer = document.createElement('h3');
//         const titleLink = document.createElement('a');
//         titleLink.href = `course-details.html?bookingId=${bookingData.bookingId}`;
//         console.log(bookingData.bookingId);
//         titleLink.textContent = bookingData.courseName;
//         titleContainer.appendChild(titleLink);

//         const status = document.createElement('p');
//         status.classList.add('description');
//         status.innerHTML = `<b>Status:</b> ${bookingData.status}`;

//         const dateOfLesson = document.createElement('p');
//         dateOfLesson.classList.add('description');
//         dateOfLesson.innerHTML = `<b>Date of Booking:</b> ${bookingData.dateOfLesson}`;

//         const mode = document.createElement('p');
//         mode.classList.add('description');
//         mode.innerHTML = `<b>Mode:</b> ${bookingData.mode}`;

//         // Trainer section
//         const trainerDiv = document.createElement('div');
//         trainerDiv.classList.add('trainer', 'd-flex', 'justify-content-between', 'align-items-center');

//         const trainerProfile = document.createElement('div');
//         trainerProfile.classList.add('trainer-profile', 'd-flex', 'align-items-center');

//         const trainerImg = document.createElement('img');
//         trainerImg.src = `../1Mentor/assets/img/team/${bookingData.tutorImg}`;
//         trainerImg.classList.add('img-fluid');
//         trainerImg.alt = '';

//         const trainerLink = document.createElement('a');
//         trainerLink.href = 'trainers.html';
//         trainerLink.classList.add('trainer-link');
//         trainerLink.textContent = bookingData.tutorName;

//         const tutorStars = document.createElement('div');
//         tutorStars.textContent = bookingData.tutorStars;
//         tutorStars.style.marginLeft = '10px';

//         trainerProfile.appendChild(trainerImg);
//         trainerProfile.appendChild(trainerLink);
//         trainerProfile.appendChild(tutorStars);

//         trainerDiv.appendChild(trainerProfile);

//         // Create trainer rank section
//         const trainerRank = document.createElement('div');
//         trainerRank.classList.add('trainer-rank', 'd-flex', 'align-items-center');

//         const personIcon = document.createElement('i');
//         personIcon.classList.add('bi', 'bi-person', 'user-icon');
//         trainerRank.appendChild(personIcon);
//         trainerRank.innerHTML += `&nbsp;${bookingData.tutorReview}`;

//         trainerDiv.appendChild(trainerRank);

//         // Append all sections to the course content
//         courseContent.appendChild(categoryPriceDiv);
//         courseContent.appendChild(titleContainer);
//         courseContent.appendChild(status);
//         courseContent.appendChild(dateOfLesson);
//         courseContent.appendChild(mode);
//         courseContent.appendChild(trainerDiv);

//         // Append course content and image to the course item
//         courseItem.appendChild(img);
//         courseItem.appendChild(courseContent);

//         // Append the course item to the column
//         col.appendChild(courseItem);

//         // Append the column to the row
//         row.appendChild(col);
//     });

//     // Append the row to the booking list
//     bookingList.appendChild(row);
// }

function displayFilteredBookings(status) {
    const filteredBookings = status ? allBookings.filter(booking => booking.status === status) : allBookings;
    const bookingList = document.getElementById("booking-list");
    bookingList.innerHTML = '';

    const row = document.createElement('div');
    row.classList.add('row', 'row-cols-1', 'row-cols-sm-2', 'row-cols-md-3', 'g-4');

    filteredBookings.forEach(bookingData => {
        const col = document.createElement('div');
        col.classList.add('col-lg-4', 'col-md-6', 'd-flex', 'align-items-stretch');
        col.setAttribute('data-aos', 'zoom-in');
        col.setAttribute('data-aos-delay', '100');

        const courseItem = document.createElement('div');
        courseItem.classList.add('course-item');

        // Add grey background for cancelled bookings
        if (bookingData.status === 'Cancelled') {
            courseItem.style.backgroundColor = 'rgba(240, 240, 240, 0.9)'; // Light grey background
            courseItem.style.position = 'relative';
            
            // Add a semi-transparent overlay
            const overlay = document.createElement('div');
            overlay.style.position = 'absolute';
            overlay.style.top = '0';
            overlay.style.left = '0';
            overlay.style.right = '0';
            overlay.style.bottom = '0';
            overlay.style.backgroundColor = 'rgba(128, 128, 128, 0.1)'; // Very light grey overlay
            overlay.style.pointerEvents = 'none'; // Allows clicking through the overlay
            courseItem.appendChild(overlay);
        }

        // Rest of your existing code remains the same
        const img = document.createElement('img');
        img.src = `../1Mentor/assets/img/bookings/${bookingData.courseCode}.jpg`;
        img.classList.add('card-img-top');
        img.alt = 'Course Image';

        const courseContent = document.createElement('div');
        courseContent.classList.add('course-content');

        const categoryPriceDiv = document.createElement('div');
        categoryPriceDiv.classList.add('d-flex', 'justify-content-between', 'align-items-center', 'mb-3');

        const category = document.createElement('p');
        category.classList.add('category');
        category.textContent = bookingData.courseCode;

        const price = document.createElement('p');
        price.classList.add('price');
        price.textContent = `$${bookingData.fee}`;

        categoryPriceDiv.appendChild(category);
        categoryPriceDiv.appendChild(price);

        const titleContainer = document.createElement('h3');
        const titleLink = document.createElement('a');
        titleLink.href = `course-details.html?bookingId=${bookingData.bookingId}`;
        titleLink.textContent = bookingData.courseName;
        titleContainer.appendChild(titleLink);

        const status = document.createElement('p');
        status.classList.add('description');
        status.innerHTML = `<b>Status:</b> ${bookingData.status}`;

        const dateOfLesson = document.createElement('p');
        dateOfLesson.classList.add('description');
        dateOfLesson.innerHTML = `<b>Date of Booking:</b> ${bookingData.dateOfLesson}`;

        const mode = document.createElement('p');
        mode.classList.add('description');
        mode.innerHTML = `<b>Mode:</b> ${bookingData.mode}`;

        const trainerDiv = document.createElement('div');
        trainerDiv.classList.add('trainer', 'd-flex', 'justify-content-between', 'align-items-center');

        const trainerProfile = document.createElement('div');
        trainerProfile.classList.add('trainer-profile', 'd-flex', 'align-items-center');

        const trainerImg = document.createElement('img');
        trainerImg.src = `../1Mentor/assets/img/team/${bookingData.tutorImg}`;
        trainerImg.classList.add('img-fluid');
        trainerImg.alt = '';

        const trainerLink = document.createElement('a');
        trainerLink.href = 'trainers.html';
        trainerLink.classList.add('trainer-link');
        trainerLink.textContent = bookingData.tutorName;

        const tutorStars = document.createElement('div');
        tutorStars.textContent = bookingData.tutorStars;
        tutorStars.style.marginLeft = '10px';

        trainerProfile.appendChild(trainerImg);
        trainerProfile.appendChild(trainerLink);
        trainerProfile.appendChild(tutorStars);

        trainerDiv.appendChild(trainerProfile);

        const trainerRank = document.createElement('div');
        trainerRank.classList.add('trainer-rank', 'd-flex', 'align-items-center');

        const personIcon = document.createElement('i');
        personIcon.classList.add('bi', 'bi-person', 'user-icon');
        trainerRank.appendChild(personIcon);
        trainerRank.innerHTML += `&nbsp;${bookingData.tutorReview}`;

        trainerDiv.appendChild(trainerRank);

        courseContent.appendChild(categoryPriceDiv);
        courseContent.appendChild(titleContainer);
        courseContent.appendChild(status);
        courseContent.appendChild(dateOfLesson);
        courseContent.appendChild(mode);
        courseContent.appendChild(trainerDiv);

        courseItem.appendChild(img);
        courseItem.appendChild(courseContent);

        col.appendChild(courseItem);
        row.appendChild(col);
    });

    bookingList.appendChild(row);
}

// Modify your fetchBookings function to use the filter display
function fetchBookings() {
    db.collection("Bookings").get().then(snapshot => {
        allBookings = []; // Reset global variable for new data

        snapshot.forEach(doc => {
            const bookingData = doc.data();
            allBookings.push(bookingData);
        });

        // Display all bookings initially
        displayFilteredBookings('');
        
    }).catch(error => {
        console.error("Error fetching bookings:", error);
    });
}
    })



  

  </script>
  <style>
    
.courses.section {
  position: relative;
  padding: 20px;
}

.filter-container {
  /* margin: 20px ; */
  position: absolute;
  top: 20px;
  right: 20px;
  /* z-index: 10; */
  display: flex;
  align-items: center;
  /* gap: 10px; */
  background-color: #fff;
  /* padding: 10px 15px; */
  /* border-radius: 6px; */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.filter-container label {
  font-weight: 500;
  color: #333;
  margin-bottom: 0;
}

.filter-container select {
  padding: 6px 12px;
  border: 1px solid #ddd;
  border-radius: 4px;
  background-color: #fff;
  font-size: 14px;
  color: #444;
  cursor: pointer;
  outline: none;
  transition: border-color 0.2s ease;
}

.filter-container select:hover {
  border-color: #999;
}

.filter-container select:focus {
  border-color: #5fcf80;
  box-shadow: 0 0 0 2px rgba(95, 207, 128, 0.2);
}

/* Ensure the booking list accommodates the filter */
#booking-list {
  padding-top: 60px;  /* Add space for the filter at the top */
}

/* Make the filter container responsive */
@media (max-width: 768px) {
  .filter-container {
    position: relative;
    top: 0;
    right: 0;
    margin-bottom: 20px;
    justify-content: flex-end;
  }
  
  #booking-list {
    padding-top: 20px;
  }
}


  </style>
</head>

<body class="courses-page">

  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center">

      <a href="index.html" class="logo d-flex align-items-center me-auto">
        <img src="assets/img/smootutor-logo.jpg">
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html">Home<br></a></li>
          <li><a href="bookings.html">Bookings</a></li>
          
          <li class="dropdown">
            <a href="trainers.html" id="notesDropdown" aria-expanded="false">
              Tutors <i class="bi bi-chevron-down toggle-dropdown"></i>
            </a>
            <ul class="dropdown-menu" aria-labelledby="notesDropdown">
              
              <li><a href="trainers.html" class="dropdown-item">All Tutors</a></li>
              <li><a href="tinder.html" class="dropdown-item">Find My Tutor</a></li>

            </ul>
          </li>
          <li><a href="chats.html">Chats</a></li>
          <li class="dropdown">
            <a href="notes.html" id="notesDropdown" aria-expanded="false">
              Notes <i class="bi bi-chevron-down toggle-dropdown"></i>
            </a>
            <ul class="dropdown-menu" aria-labelledby="notesDropdown">
              
              <li><a href="notes.html?section=browse" class="dropdown-item">Browse Notes</a></li>
              <li><a href="notes.html?section=saved" class="dropdown-item">Saved Notes</a></li>

            </ul>
            <li><a href="contact.html">Contact</a></li>
          </li>
          
          
  
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>



      <a class="btn-getstarted" href="../home/login.html">LOGIN</a>

    </div>
  </header>

  <main class="main">

    <!-- Page Title -->
    <div class="page-title" data-aos="fade">
      <div class="heading">
        <div class="container">
          <div class="row d-flex justify-content-center text-center">
            <div class="col-lg-8">
              <h1>Bookings</h1>
              <p class="mb-0">Track and manage all your upcoming and past tutoring sessions in one place! Here, you’ll find a list of all your booked lessons with our expert tutors, including session dates, times, and subjects.</p>
            </div>
          </div>
        </div>
      </div>
      <nav class="breadcrumbs">
        <div class="container">
          <ol>
            <li><a href="index.html">Home</a></li>
            <li class="current">Bookings</li>
          </ol>
          
        </div>
      </nav>
    </div><!-- End Page Title -->

    <!-- Courses Section -->
    
    
      <section class="courses section">
        <div class="filter-container">
          <!-- <label for="statusFilter">Filter by Status:</label> -->
          <select id="statusFilter">
              <option value="">All</option>
              <option value="Pending">Pending</option>
              <option value="Confirmed">Confirmed</option>
              <option value="Cancelled">Cancelled</option>
          </select>
      </div>
        <div id="booking-list"></div>
      </section>
  

  </main>

  <footer id="footer" class="footer position-relative light-background">

    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-4 col-md-6 footer-about">
          <a href="index.html" class="logo d-flex align-items-center">
            <span class="sitename">Mentor</span>
          </a>
          <div class="footer-contact pt-3">
            <p>A108 Adam Street</p>
            <p>New York, NY 535022</p>
            <p class="mt-3"><strong>Phone:</strong> <span>+1 5589 55488 55</span></p>
            <p><strong>Email:</strong> <span>info@example.com</span></p>
          </div>
          <div class="social-links d-flex mt-4">
            <a href=""><i class="bi bi-twitter-x"></i></a>
            <a href=""><i class="bi bi-facebook"></i></a>
            <a href=""><i class="bi bi-instagram"></i></a>
            <a href=""><i class="bi bi-linkedin"></i></a>
          </div>
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Useful Links</h4>
          <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">About us</a></li>
            <li><a href="#">Services</a></li>
            <li><a href="#">Terms of service</a></li>
            <li><a href="#">Privacy policy</a></li>
          </ul>
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Our Services</h4>
          <ul>
            <li><a href="#">Web Design</a></li>
            <li><a href="#">Web Development</a></li>
            <li><a href="#">Product Management</a></li>
            <li><a href="#">Marketing</a></li>
            <li><a href="#">Graphic Design</a></li>
          </ul>
        </div>

        <div class="col-lg-4 col-md-12 footer-newsletter">
          <h4>Our Newsletter</h4>
          <p>Subscribe to our newsletter and receive the latest news about our products and services!</p>
          <form action="forms/newsletter.php" method="post" class="php-email-form">
            <div class="newsletter-form"><input type="email" name="email"><input type="submit" value="Subscribe"></div>
            <div class="loading">Loading</div>
            <div class="error-message"></div>
            <div class="sent-message">Your subscription request has been sent. Thank you!</div>
          </form>
        </div>

      </div>
    </div>

    <div class="container copyright text-center mt-4">
      <p>© <span>Copyright</span> <strong class="px-1 sitename">Mentor</strong> <span>All Rights Reserved</span></p>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you've purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>

  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>

  <!-- <script>
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDpmHo8Y79lMhABi1WuRaJ25ulV4JMdRGY",
      authDomain: "smootutor-ed94a.firebaseapp.com",
      databaseURL: "https://smootutor-ed94a-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "smootutor-ed94a",
      storageBucket: "smootutor-ed94a.appspot.com",
      messagingSenderId: "289686522861",
      appId: "1:289686522861:web:5811385ced42106d78b5e4",
      measurementId: "G-46QED8ZFKJ"
    };
    firebase.initializeApp(firebaseConfig);

    const db = firebase.firestore();
    const auth = firebase.auth();
    const storage = firebase.storage();

    let currentUser = null;
    let selectedChatId = null;
    let messagesListener = null;

    // Authenticate and fetch chats
    auth.signInAnonymously().then(() => {
      console.log("User authenticated successfully.");
      auth.onAuthStateChanged(user => {
        if (user) {
          currentUser = user;
          fetchBookings();
        }
      });
    }).catch(error => {
      console.error("Authentication error:", error);
    });

    // Fetch and display bookings list
    function fetchBookings() {
      db.collection("Bookings").get().then(snapshot => {
        const bookingList = document.getElementById("booking-list");
        bookingList.innerHTML = ""; // Clear existing bookings

        snapshot.forEach(doc => {
          const bookingData = doc.data();
          const bookingItem = document.createElement("div");

          // Format the display of booking data
          bookingItem.textContent = `Booking ID: ${bookingData.bookingId}, Course: ${bookingData.courseName}, Fee: $${bookingData.fee}, Status: ${bookingData.status}`;
          bookingItem.classList.add("booking-item");

          // You can add event listeners here for any additional actions (e.g., loadBooking details)
          // bookingItem.addEventListener("click", () => loadBooking(doc.id));
          
          bookingList.appendChild(bookingItem);
          console.log(bookingList);
        });
      }).catch(error => {
        console.error("Error fetching bookings:", error);
      });
    }

    // Call the function to fetch bookings data
    fetchBookings();
  </script> -->

  

</body>

</html>
