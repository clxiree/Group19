<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Tutor Profile</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">

  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" /> 

  <!-- Firebase JS SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-storage-compat.js"></script>

  <!-- Initialize Firebase -->
  <script>
    var firebaseConfig = {
      apiKey: "AIzaSyDpmHo8Y79lMhABi1WuRaJ25ulV4JMdRGY",
      authDomain: "smootutor-ed94a.firebaseapp.com",
      databaseURL: "https://smootutor-ed94a-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "smootutor-ed94a",
      storageBucket: "smootutor-ed94a.appspot.com",
      messagingSenderId: "289686522861",
      appId: "1:289686522861:web:5811385ced42106d78b5e4",
      measurementId: "G-46QED8ZFKJ"
    };
    firebase.initializeApp(firebaseConfig);
  </script>

<title id="dynamicTitle">Tutor Profile</title> <!-- Dynamic Title -->
</head>

<body class="about-page">

  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center">

      <a href="index.html" class="logo d-flex align-items-center me-auto">
        <img src="assets/img/smootutor-logo.jpg">
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html">Home<br></a></li>
          <li><a href="bookings.html">Bookings</a></li>

          <li class="dropdown">
            <a href="trainers.html" id="notesDropdown" aria-expanded="false">
              Tutors <i class="bi bi-chevron-down toggle-dropdown"></i>
            </a>
            <ul class="dropdown-menu" aria-labelledby="notesDropdown">

              <li><a href="trainers.html" class="dropdown-item">All Tutors</a></li>
              <li><a href="tinder.html" class="dropdown-item">Find My Tutor</a></li>

            </ul>
          </li>
          <li><a href="chats.html">Chats</a></li>
          <li class="dropdown">
            <a href="notes.html" id="notesDropdown" aria-expanded="false">
              Notes <i class="bi bi-chevron-down toggle-dropdown"></i>
            </a>
            <ul class="dropdown-menu" aria-labelledby="notesDropdown">

              <li><a href="notes.html?section=browse" class="dropdown-item">Browse Notes</a></li>
              <li><a href="notes.html?section=saved" class="dropdown-item">Saved Notes</a></li>

            </ul>
         
        </ul>
          <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>
   
    <!-- End Page Title -->

<section id="about-us" class="section about-us">
  <div class="container">
    <div class="row gy-4 d-flex align-items-center">
      <div class="col-lg-6 col-md-12 text-center">
        <img id="userImage" src="assets/img/team/default.jpg" class="img-fluid mb-4" alt="Tutor Image">
      </div>
      <div class="col-lg-6 ps-lg-5 col-md-12">
        <div class="content">
          <p class="fw-bold" style="font-size: 18px;">
            About:
          </p>
          <p style="font-size: 14px; margin-bottom: 30px;" id="about">
            This is the tutor's about section.
          </p>

          <p class="fw-bold mt-4" style="font-size: 18px;">
            Lesson Descriptions:
          </p>
          <ul id="lessonDescriptions" class="list-unstyled aligned-list"></ul>

          <p class="fw-bold" style="font-size: 18px;">
            Rate:
          </p>
          <p id="tutorRate" style="font-size: 14px; margin-bottom: 10px;">
            $0/h
          </p>

          <p class="fw-bold" style="font-size: 18px;">
            Rating:
          </p>
          <p id="tutorRating" style="font-size: 20px;">
            <!-- Star icons will be dynamically populated here -->
          </p>

          <p class="fw-bold" style="font-size: 18px;">
            Qualifications:
          </p>
          <p id="qualifications">
            Qualifications will be listed here.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="testimonials section">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Testimonials</h2>
        <p>What are they saying</p>
      </div><!-- End Section Title -->

      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="swiper init-swiper">
          <script type="application/json" class="swiper-config">
            {
              "loop": true,
              "speed": 600,
              "autoplay": {
                "delay": 5000
              },
              "slidesPerView": "auto",
              "pagination": {
                "el": ".swiper-pagination",
                "type": "bullets",
                "clickable": true
              },
              "breakpoints": {
                "320": {
                  "slidesPerView": 1,
                  "spaceBetween": 40
                },
                "1200": {
                  "slidesPerView": 2,
                  "spaceBetween": 20
                }
              }
            }
          </script>
          <div class="swiper-wrapper">

            <div class="swiper-slide">
              <div class="testimonial-wrap">
                <div class="testimonial-item">
                  <img src="assets/img/testimonials/testimonials-1.jpg" class="testimonial-img" alt="">
                  <h3>Saul Goodman</h3>
                  <h4>Ceo &amp; Founder</h4>
                  <div class="stars">
                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                  </div>
                  <p>
                    <i class="bi bi-quote quote-icon-left"></i>
                    <span>Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper.</span>
                    <i class="bi bi-quote quote-icon-right"></i>
                  </p>
                </div>
              </div>
            </div><!-- End testimonial item -->

            <div class="swiper-slide">
              <div class="testimonial-wrap">
                <div class="testimonial-item">
                  <img src="assets/img/testimonials/testimonials-2.jpg" class="testimonial-img" alt="">
                  <h3>Sara Wilsson</h3>
                  <h4>Designer</h4>
                  <div class="stars">
                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                  </div>
                  <p>
                    <i class="bi bi-quote quote-icon-left"></i>
                    <span>Export tempor illum tamen malis malis eram quae irure esse labore quem cillum quid cillum eram malis quorum velit fore eram velit sunt aliqua noster fugiat irure amet legam anim culpa.</span>
                    <i class="bi bi-quote quote-icon-right"></i>
                  </p>
                </div>
              </div>
            </div><!-- End testimonial item -->

            <div class="swiper-slide">
              <div class="testimonial-wrap">
                <div class="testimonial-item">
                  <img src="assets/img/testimonials/testimonials-3.jpg" class="testimonial-img" alt="">
                  <h3>Jena Karlis</h3>
                  <h4>Store Owner</h4>
                  <div class="stars">
                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                  </div>
                  <p>
                    <i class="bi bi-quote quote-icon-left"></i>
                    <span>Enim nisi quem export duis labore cillum quae magna enim sint quorum nulla quem veniam duis minim tempor labore quem eram duis noster aute amet eram fore quis sint minim.</span>
                    <i class="bi bi-quote quote-icon-right"></i>
                  </p>
                </div>
              </div>
            </div><!-- End testimonial item -->

            <div class="swiper-slide">
              <div class="testimonial-wrap">
                <div class="testimonial-item">
                  <img src="assets/img/testimonials/testimonials-4.jpg" class="testimonial-img" alt="">
                  <h3>Matt Brandon</h3>
                  <h4>Freelancer</h4>
                  <div class="stars">
                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                  </div>
                  <p>
                    <i class="bi bi-quote quote-icon-left"></i>
                    <span>Fugiat enim eram quae cillum dolore dolor amet nulla culpa multos export minim fugiat minim velit minim dolor enim duis veniam ipsum anim magna sunt elit fore quem dolore labore illum veniam.</span>
                    <i class="bi bi-quote quote-icon-right"></i>
                  </p>
                </div>
              </div>
            </div><!-- End testimonial item -->

            <div class="swiper-slide">
              <div class="testimonial-wrap">
                <div class="testimonial-item">
                  <img src="assets/img/testimonials/testimonials-5.jpg" class="testimonial-img" alt="">
                  <h3>John Larson</h3>
                  <h4>Entrepreneur</h4>
                  <div class="stars">
                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                  </div>
                  <p>
                    <i class="bi bi-quote quote-icon-left"></i>
                    <span>Quis quorum aliqua sint quem legam fore sunt eram irure aliqua veniam tempor noster veniam enim culpa labore duis sunt culpa nulla illum cillum fugiat legam esse veniam culpa fore nisi cillum quid.</span>
                    <i class="bi bi-quote quote-icon-right"></i>
                  </p>
                </div>
              </div>
            </div><!-- End testimonial item -->

          </div>
          <div class="swiper-pagination"></div>
        </div>

      </div>

    </section><!-- /Testimonials Section -->

  </main>

  <!-- Firebase Firestore Integration -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var firebaseConfig = {
          apiKey: "AIzaSyDpmHo8Y79lMhABi1WuRaJ25ulV4JMdRGY",
          authDomain: "smootutor-ed94a.firebaseapp.com",
          databaseURL: "https://smootutor-ed94a-default-rtdb.asia-southeast1.firebasedatabase.app",
          projectId: "smootutor-ed94a",
          storageBucket: "smootutor-ed94a.appspot.com",
          messagingSenderId: "289686522861",
          appId: "1:289686522861:web:5811385ced42106d78b5e4",
          measurementId: "G-46QED8ZFKJ"
        };
        firebase.initializeApp(firebaseConfig);
        
      const db = firebase.firestore();

      function getUserIdFromURL() {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get('userid');
      }

      function fetchUserData(userId) {
        // Construct document ID with the format "UserID: X"
        const documentId = `UserID: ${userId}`;

        db.collection("Particulars").doc(documentId).get()
          .then((doc) => {
            if (doc.exists) {
              populateUserData(doc.data());
            } else {
              console.log("No user data found for UserID:", userId);
            }
          })
          .catch((error) => {
            console.error("Error fetching user data:", error);
          });
      }

      function populateUserData(data) {
        document.getElementById("userNameHeading").textContent = data.Name || "Unknown Tutor";
        document.getElementById("userOneLiner").textContent = data.Oneliner || "No one-liner available.";
        document.getElementById("about").textContent = data.About || "No about information available.";
        document.getElementById("tutorRate").textContent = `$${data.Rate || 0}/h`;
        const rating = data.Rating || 0;  // Use default 0 if rating is undefined
        populateStarRating(rating);

        // Update the page title dynamically
        document.title = `${data.Name}'s Profile` || "Tutor Profile";


        // Populate Subjects
        const subjectsContainer = document.getElementById("subjectsContainer");
        subjectsContainer.innerHTML = "";
        if (data.Subjects) {
          data.Subjects.forEach(subject => {
            const span = document.createElement("span");
            span.className = "subject-bubble";
            span.textContent = subject;
            subjectsContainer.appendChild(span);
          });
        } else {
          subjectsContainer.textContent = "Subjects not available.";
        }

        // Populate Lesson Descriptions
        const lessonDescriptions = document.getElementById("lessonDescriptions");
        lessonDescriptions.innerHTML = "";
        if (data.LessonDesc) {
          data.LessonDesc.forEach(desc => {
            const li = document.createElement("li");
            li.className = "mb-2";
            li.innerHTML = `<i class="bi bi-check-circle" style="font-size: 18px"></i> <span style="font-size: 14px">${desc}</span>`;
            lessonDescriptions.appendChild(li);
          });
        } else {
          lessonDescriptions.textContent = "No lesson descriptions available.";
        }

        // Populate Qualifications
        const qualificationsContainer = document.getElementById("qualifications");
        qualificationsContainer.textContent = data.Qualifications ? data.Qualifications.join(", ") : "No qualifications available.";

        // Load Image
        const userImage = document.getElementById("userImage");
        const storage = firebase.storage();
        const imageName = data.Image || "default.jpg";
        console.log(imageName)
        storage.ref(`images/team/${imageName}`).getDownloadURL()
          .then(url => {
            userImage.src = url;
          })
          .catch(() => {
            userImage.src = "assets/img/team/default.jpg"; // Fallback image
          });
      }

      const userId = getUserIdFromURL();
      if (userId) {
        fetchUserData(userId);
      } else {
        console.log("UserID not found in the URL.");
      }

      function populateStarRating(rating) {
      const ratingElement = document.getElementById("tutorRating");
      ratingElement.innerText = ""; // Clear previous content

      for (let i = 1; i <= 5; i++) {
        const star = document.createElement("i");
        star.style.color = "#FFD700"; // Gold color

        if (i <= Math.floor(rating)) {
          // Full star
          star.className = "bi bi-star-fill";
        } else if (i === Math.ceil(rating) && rating % 1 >= 0.5) {
          // Half star
          star.className = "bi bi-star-half";
        } else {
          // Empty star
          star.className = "bi bi-star";
        }
        ratingElement.appendChild(star);
      }
}

    });
  </script>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>
